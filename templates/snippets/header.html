{% load static %}

<!-- Header -->
<div class="d-flex flex-column flex-lg-row p-2 px-md-4 mb-3 bg-white border-bottom shadow-sm">

	<!-- MEDIUM+ SCREENS -->
	<div class="d-none d-md-flex flex-row my-auto flex-grow-1 align-items-center">
		<!-- column 1 -->
		<h5 class="mr-3 font-weight-normal justify-content-start">
			<a class="p-2 text-dark text-decoration-none" href="{% url 'home' %}">Home</a>
		</h5>

		<!-- column 2 -->
		<form class="search-bar justify-content-start" onsubmit="return executeQuery();">
			<input type="text" class="form-control" name="q" id="id_q_large" placeholder="Search...">
		</form>

		<!-- column 3 -->
		<div class="d-flex flex-row-reverse flex-grow-1">
			<nav class="">
				{% if request.user.is_authenticated %}
					<div class="dropdown dropleft show p-2">
						<div class="d-flex flex-row">

							<!--Chat Notifications-->
							<div class="btn-group dropleft">
								<div class="d-flex notifications-icon-container rounded-circle align-items-center mr-3" id="id_notification_dropdown_toggle" data-toggle="dropdown" onclick="setGeneralNotificationsAsRead()">

									<span id="id_chat_notifications_count" class="notify-badge"></span>

									<a class="btn  btn-sm" href="#" role="button" id="id_chat_notification_dropdown_toggle" data-bs-toggle="dropdown" aria-expanded="false">
										<span class="d-flex material-icons notifications-material-icon m-auto align-items-center">chat</span>
									</a>

									<div class="dropdown-menu scrollable-menu" aria-labelledby="id_chat_notification_dropdown_toggle" id="id_chat_notifications_container">	
										<div class="dropdown-item">naman  malik</div>				
									</div>
								</div>
							</div>

							<!--General Notifications-->
							<div class="btn-group dropleft">
								<div class="d-flex notifications-icon-container rounded-circle align-items-center mr-3" id="id_notification_dropdown_toggle" data-toggle="dropdown" onclick="setGeneralNotificationsAsRead()">

									<span id="id_general_notifications_count" class="notify-badge"></span>

									<a class="btn  btn-sm" href="#" role="button" id="id_notification_dropdown_toggle" data-bs-toggle="dropdown" aria-expanded="false">
										<span class="d-flex material-icons notifications-material-icon m-auto align-items-center">notifications</span>
									</a>

									<div class="dropdown-menu scrollable-menu" aria-labelledby="id_notification_dropdown_toggle" id="id_general_notifications_container">	
										<div class="dropdown-item">naman  malik</div>				
									</div>
								</div>
							</div>

							<!--Account-->
							<div class="dropdown dropleft">
								<a class="btn btn-sm" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
									<img class="account-image rounded-circle m-auto d-block" src="{{ request.user.profile_image.url }}" alt="chat application logo " width="25" height="25">
								  </a>

								<div class="dropdown-menu" aria-labelledby="id_profile_links">
									<a href="#" class="dropdown-item">Account</a>
									<a href="#" class="dropdown-item">Logout</a>
								</div>
							</div>

						</div>
						
					</div>
                    
				{% else %}
					<a class=" btn btn-primary-outline text-dark" href="#">Login</a>
					<a class="btn btn-primary-outline" href="#">Reister</a>
				{% endif %}	
			</nav>
		</div>
	</div>
	<!-- END MEDIUM+ SCREENS -->

	<!-- SMALL SCREENS -->
	<div class="d-flex d-md-none flex-column my	-auto align-items-center">

		<!-- row 1 -->
		<h5 class="font-weight-normal">
			<a class="p-2 text-dark text-decoration-none" href="{% url 'home' %}">Home</a>
		</h5>

		<!-- row 2 -->
		<form class="search-bar justify-content-start" onsubmit="return executeQuery();">
			<input type="text" class="form-control" name="q" id="id_q_small" plac>eholder="Search...">
		</form>

		<!-- row 3 -->
		<div class="d-flex flex-row-reverse flex-grow-1">
			<nav class="">
				{% if request.user.is_authenticated %}
					<div class="dropdown dropleft p-2 mt-2">
						<div class="d-flex flex-row">

							<!--Account-->
							<div class="dropdown dropleft">
								{% comment %} <img class="account-image rounded-circle m-auto d-block dropdown-toggle" id="id_profile_links" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" src="{% static 'my-chat-application-images/dummy_image.png' %}" alt="chat application logo " width="40" height="40"> {% endcomment %}

								<a class="btn btn-sm" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
									<img class="account-image rounded-circle m-auto d-block" src="{{ request.user.profile_image.url }}" alt="chat application logo " width="25" height="25">
								  </a>

								<div class="dropdown-menu" aria-labelledby="id_profile_links">
									<a href="#" class="dropdown-item mt-2">Account</a>
									<a href="#" class="dropdown-item mt-2">Logout</a>
								</div>
							</div>
						</div>
						
					</div>
                    
				{% else %}
					<a class="btn btn-primary-outline" href="#">Login</a>
					<a class="btn btn-primary-outline" href="#">Reister</a>
				{% endif %}	
			</nav>
	  	</div>
	</div>
	<!-- END SMALL SCREENS -->
</div>
